<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>JHUB Shop</title>
<style>
/* Basic professional layout */
body, html { margin:0; padding:0; font-family:'Segoe UI',sans-serif; background:#111; color:#fff; overflow-x:hidden;}
header{display:flex; justify-content:space-between; align-items:center; padding:15px 20px; background:rgba(20,20,20,0.95); position:fixed; width:100%; z-index:1000; box-shadow:0 2px 10px rgba(0,0,0,.5);}
header h1{font-size:28px;}
.menu-btn{display:none; flex-direction:column; cursor:pointer; z-index:1010;}
.menu-btn div{width:25px; height:3px; background:#fff; margin:4px 0; transition:.4s;}
nav{display:flex; gap:20px;}
nav button{background:none; border:none; color:#fff; font-size:16px; cursor:pointer; transition:.3s; padding:8px 12px; border-radius:6px;}
nav button:hover, nav button.active{background:linear-gradient(45deg,#555,#777); color:#fff; box-shadow:0 0 10px rgba(255,255,255,.5);}
.tabcontent{display:none; padding:100px 20px 20px 20px; max-width:1200px; margin:0 auto;}
.tabcontent.active{display:block;}
.section-title{font-size:22px;margin:20px 0 10px 0;border-bottom:1px solid #444;padding-bottom:5px;}
.products{display:grid; grid-template-columns:repeat(auto-fill,minmax(220px,1fr)); gap:20px; margin-bottom:30px;}
.product{background:#1e1e1e; padding:15px; border-radius:12px; box-shadow:0 4px 15px rgba(0,0,0,.5);}
.product h3,p,button{margin:5px 0;}
.product button{background: linear-gradient(45deg,#555,#777); border:none; color:#fff; padding:8px 10px; width:90%; font-size:14px; border-radius:5px; cursor:pointer; transition:.3s;}
.product button:hover{background: linear-gradient(45deg,#777,#999); box-shadow:0 0 6px rgba(255,255,255,.5);}
.modal{position:fixed; top:0; left:0; width:100%; height:100%; display:none; justify-content:center; align-items:center; background:rgba(0,0,0,.95); z-index:1000;}
.modal-content{background:#222; padding:20px; border-radius:12px; width:90%; max-width:400px; text-align:center; box-shadow:0 0 25px rgba(255,255,255,.2);}

/* Hamburger menu for mobile */
@media(max-width:900px){ .menu-btn{display:flex;} nav{display:none; flex-direction:column; background:rgba(20,20,20,.95); position:absolute; top:60px; right:10px; width:200px; padding:10px; border-radius:6px; z-index:1000;} nav.active{display:flex;} }
</style>
</head>
<body>
<header>
<h1>JHUB</h1>
<div class="menu-btn" onclick="toggleMenu()">
<div></div><div></div><div></div>
</div>
<nav>
<button class="tablink active" onclick="openTab(event,'Products')">Products</button>
<button class="tablink" onclick="openTab(event,'Reviews')">Reviews</button>
<button class="tablink" onclick="openTab(event,'TOS')">TOS</button>
</nav>
</header>

<div id="Products" class="tabcontent active">
<div class="section-title">TB3</div><div class="products" id="tb3-products"></div>
<div class="section-title">PS2</div><div class="products" id="ps2-products"></div>
<div class="section-title">Keys</div><div class="products" id="keys-products"></div>
</div>

<div id="Reviews" class="tabcontent">
<p>No reviews yet.</p>
</div>

<div id="TOS" class="tabcontent">
<p>All sales are final. Join Discord and create a ticket with proof to receive your account.</p>
</div>

<script>
// Hamburger menu
function toggleMenu(){document.querySelector('nav').classList.toggle('active');}

// Tabs
function openTab(evt,name){
document.querySelectorAll('.tablink').forEach(b=>b.classList.remove('active'));
evt.currentTarget.classList.add('active');
document.querySelectorAll('.tabcontent').forEach(c=>c.classList.remove('active'));
document.getElementById(name).classList.add('active');
}

// Fetch products from Google Sheets
async function loadStockFromSheet(){
  const url = "https://script.google.com/macros/s/AKfycbyObznCWfR4HHa4ONjhBz4c2V7hBdrjnn9oXvS/exec";
  const res = await fetch(url);
  const data = await res.json();
  const products = data.map(p=>({
    category:p.Category,
    name:p.Name,
    price:p.Price,
    stock:p.Stock
  }));
  renderSection(products.filter(p=>p.category==="TB3"),"tb3-products");
  renderSection(products.filter(p=>p.category==="PS2"),"ps2-products");
  renderSection(products.filter(p=>p.category==="Keys"),"keys-products");
}

function renderSection(products,containerId){
  const container=document.getElementById(containerId);
  container.innerHTML="";
  products.forEach(p=>{
    const div=document.createElement('div');
    div.className="product";
    div.innerHTML=`<h3>${p.name}</h3><p>$${p.price}</p><p>Stock: ${p.stock}</p><button ${p.stock<=0?'disabled':''}>${p.stock<=0?'Sold Out':'Add to Basket'}</button>`;
    container.appendChild(div);
  });
}

window.onload=loadStockFromSheet;
</script>
</body>
</html>
